

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started: Installing LLVM and the Cpu0 example code &mdash; Write An LLVM Backend Tutorial For Cpu0</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Write An LLVM Backend Tutorial For Cpu0" href="index.html" />
    <link rel="next" title="Cpu0 Instruction and LLVM Target Description" href="llvmstructure.html" />
    <link rel="prev" title="About" href="about.html" />
<script type="text/javascript">

/*
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33699076-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
*/
</script>

  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Write An LLVM Backend Tutorial For Cpu0</span></a></h1>
        <h2 class="heading"><span>Getting Started: Installing LLVM and the Cpu0 example code</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="about.html">About</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="llvmstructure.html">Cpu0 Instruction and LLVM Target Description</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="getting-started-installing-llvm-and-the-cpu0-example-code">
<h1>Getting Started: Installing LLVM and the Cpu0 example code<a class="headerlink" href="#getting-started-installing-llvm-and-the-cpu0-example-code" title="Permalink to this headline">¶</a></h1>
<p>Before you start, you should know that you can always examine existing LLVM backend code
and attempt to port what you find for your own target architecture.  The majority of this
code can be found in the /lib/Target directory of your root LLVM directory. As most major
RISC instruction set architectures have some similarities, this may be the avenue you
might try if you are both an experienced programmer and knowledgable of compiler backends.
However, there is a steep learning curve and you may easily get held up debugging your new
backend. You can easily spend a lot of time tracing which methods are callbacks of some
function, or which are calling some overridden method deep in the LLVM codebase - and with
a codebase as large as LLVM, this can easily become a headache. This tutorial will help
you work through this process while learning the fundamentals of LLVM backend design. It
will show you what is necessary to get your first backend functional and complete, and it
should help you understand how to debug your backend when it does not produce desirable
output using the output provided by LLVM.</p>
<p>In this chapter, we will run through how to set up LLVM using if you are using Mac OS X or
Linux.  When discussing Mac OS X, we are using Apple&#8217;s Xcode IDE (version 4.5.1) running
on Mac OS X Mountain Lion (version 10.8) to modify and build LLVM from source, and we will
be debugging using lldb.  We cannot debug our LLVM builds within Xcode at the moment, but
if you have experience with this, please contact us and help us build documentation that
covers this.  For Linux machines, we are building and debugging (using gdb) our LLVM
installations on a Fedora 17 system.  We will not be using an IDE for Linux, but once
again, if you have experience building/debugging LLVM using Eclipse or other major IDEs,
please contact the authors. For information regarding using <tt class="docutils literal"><span class="pre">cmake</span></tt> with LLVM, please
refer to the <a class="reference external" href="http://llvm.org/docs/CMake.html?highlight=cmake">Building LLVM with CMake</a> documentation for further information.  We are
using cmake version 2.8.9.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Find information on debugging LLVM within Xcode for Macs.</p>
</div>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Find information on building/debugging LLVM within Eclipse for Linux.</p>
</div>
<div class="section" id="setting-up-your-mac-installing-llvm-xcode-and-cmake">
<h2>Setting Up Your Mac: Installing LLVM, Xcode and cmake<a class="headerlink" href="#setting-up-your-mac-installing-llvm-xcode-and-cmake" title="Permalink to this headline">¶</a></h2>
<p>Please download llvm version 3.1 (llvm, clang, compiler-rf) from <a class="reference external" href="http://llvm.org/releases/download.html#3.1">llvm release download</a>.
Then, <tt class="docutils literal"><span class="pre">tar</span> <span class="pre">-zxvf</span> <span class="pre">llvm,</span> <span class="pre">clang,</span> <span class="pre">compiler-rt</span></tt>, and change the llvm source code root
directory into src. After that, move clang source code to src/tools/clang, move
compiler-rt source to src/project/compiler-rt as Fig 1.1.</p>
<div class="figure align-center">
<img alt="_images/Fig1_1.png" src="_images/Fig1_1.png" />
<p class="caption">Fig 1.1 llvm, clang, compiler-rt source code position on iMac</p>
</div>
<p>Next, copy llvm source to /Users/Jonathan/llvm/3.1/src by terminal command
<tt class="docutils literal"><span class="pre">cp</span> <span class="pre">-rf</span> <span class="pre">/Users/Jonathan/Documents/llvmSrc/src</span> <span class="pre">/Users/Jonathan/llvm/3.1/.</span></tt>.</p>
<p>Install Xcode from App Store as well as cmake from
<a class="reference external" href="http://www.cmake.org/cmake/resources/software.html">http://www.cmake.org/cmake/resources/software.html</a>. Before install cmake, check the
“Anywhere” of “Allow applications download from” of “Security &amp; Privacy” of “System
Preferences” as Fig 1.2.</p>
<div class="figure align-center">
<img alt="_images/Fig1_2.png" src="_images/Fig1_2.png" />
<p class="caption">Fig 1.2  Adjust iMac to allow download cmake</p>
</div>
</div>
<div class="section" id="create-llvm-xcodeproj-by-cmake-graphic-ui">
<h2>Create LLVM.xcodeproj by cmake Graphic UI<a class="headerlink" href="#create-llvm-xcodeproj-by-cmake-graphic-ui" title="Permalink to this headline">¶</a></h2>
<p>Currently, I cannot do debug by lldb with cmake graphic UI operations depicted in this
section, but I can do debug by lldb with section “1.4 Create LLVM.xcodeproj of support
cpu0 by terminal cmake command”. Even though, let&#8217;s build LLVM project with cmake graphic
UI now since this LLVM build is to build the release version for clang, llvm-as, llc, ...,
execution command use, not for working backend program. First, create LLVM.xcodeproj as
Fig 1.3, then click configure button to enter Fig 1.4, and then click Done button on Fig
1.4 to get Fig 1.5.</p>
<div class="figure align-center">
<img alt="_images/Fig1_3.png" src="_images/Fig1_3.png" />
<p class="caption">Fig 1.3 Start to create LLVM.xcodeproj by cmake</p>
</div>
<div class="figure align-center">
<img alt="_images/Fig1_4.png" src="_images/Fig1_4.png" />
<p class="caption">Fig 1.4 Create LLVM.xcodeproj by cmake – Set option to generate Xcode project</p>
</div>
<div class="figure align-center">
<img alt="_images/Fig1_5.png" src="_images/Fig1_5.png" />
<p class="caption">Fig 1.5 Create LLVM.xcodeproj by cmake – Before Adjust CMAKE_INSTALL_NAME_TOOL</p>
</div>
<p>Click OK from Fig 1.5 and select Cmake 2.8-9.app for CMAKE_INSTALL_NAME_TOOL by click the
right side button “...” of that row in Fig 1.5 to get Fig 1.6.</p>
<div class="figure align-center">
<img alt="_images/Fig1_6.png" src="_images/Fig1_6.png" />
<p class="caption">Fig 1.6 select Cmake 2.8-9.app</p>
</div>
<p>Click Configure button in Fig 1.6 to get Fig 1.7.</p>
<div class="figure align-center">
<img alt="_images/Fig1_7.png" src="_images/Fig1_7.png" />
<p class="caption">Fig 1.7 Click cmake Configure button first time</p>
</div>
<p>Check CLANG_BUILD_EXAMPLES, LLVM_BUILD_EXAMPLES, and uncheck LLVM_ENABLE_PIC as Fig 1.8.</p>
<div class="figure align-center">
<img alt="_images/Fig1_8.png" src="_images/Fig1_8.png" />
<p class="caption">Fig 1.8 Check CLANG_BUILD_EXAMPLES, LLVM_BUILD_EXAMPLES, and uncheck LLVM_ENABLE_PIC in cmake</p>
</div>
<p>Click Configure button again. If the output result message has no red color, then click
Generate button to get Fig 1.9.</p>
<div class="figure align-center">
<img alt="_images/Fig1_9.png" src="_images/Fig1_9.png" />
<p class="caption">Fig 1.9 Click cmake Generate button second time</p>
</div>
</div>
<div class="section" id="build-llvm-by-xcode">
<h2>Build llvm by Xcode<a class="headerlink" href="#build-llvm-by-xcode" title="Permalink to this headline">¶</a></h2>
<p>Now, LLVM.xcodeproj is created. Open the cmake_debug_build/LLVM.xcodeproj by Xcode and
click menu “Product – Build” as Fig 1.10.</p>
<div class="figure align-center">
<img alt="_images/Fig1_10.png" src="_images/Fig1_10.png" />
<p class="caption">Fig 1.10 Click Build button to build LLVM.xcodeproj by Xcode</p>
</div>
<p>After few minutes of build, the clang, llc, llvm-as, ..., can be found in
cmake_debug_build/bin/Debug/ as Fig 1.11.</p>
<div class="figure align-center">
<img alt="_images/Fig1_11.png" src="_images/Fig1_11.png" />
<p class="caption">Fig 1.11 Executable files built by Xcode</p>
</div>
<p>To access those execution files, edit .profile (if you .profile not exists, please
create file .profile), save .profile to /Users/Jonathan/, and enable $PATH by command
<tt class="docutils literal"><span class="pre">source</span> <span class="pre">.profile</span></tt> as Fig1.12. Please add path
/Applications//Xcode.app/Contents/Developer/usr/bin to .profile if you didn&#8217;t add it
after Xcode download.</p>
<div class="figure align-center">
<img alt="_images/Fig1_12.png" src="_images/Fig1_12.png" />
<p class="caption">Fig 1.12 Edit .profile and save .profile to /Users/Jonathan/</p>
</div>
</div>
<div class="section" id="create-llvm-xcodeproj-of-supporting-cpu0-by-terminal-cmake-command">
<h2>Create LLVM.xcodeproj of supporting cpu0 by terminal <tt class="docutils literal"><span class="pre">cmake</span></tt> command<a class="headerlink" href="#create-llvm-xcodeproj-of-supporting-cpu0-by-terminal-cmake-command" title="Permalink to this headline">¶</a></h2>
<p>In section 1.2, we create LLVM.xcodeproj by cmake graphic UI. We can create LLVM.xcodeproj
by <tt class="docutils literal"><span class="pre">cmake</span></tt> command on terminal also. Now, let&#8217;s repeat above steps to create
llvm/3.1.test with cpu0 modified code as Fig 1.13.</p>
<div class="figure align-center">
<img alt="_images/Fig1_13.png" src="_images/Fig1_13.png" />
<p class="caption">Fig 1.13 create llvm/3.1.test with cpu0 modified code</p>
</div>
<p>/Users/Jonathan/Documents/Gamma_flash/LLVMBackendTutorial/src_files_modify/src/ contains
the files I modified for cpu0 architecture. Copy it as Fig 1.13 to replace the original
3.1 source code for cpu0 backend support. After Fig 1.13, copy cpu0 example code from
LLVMBackendTutorial/1/Cpu0 to src/lib/Target/ as Fig 1.14.</p>
<div class="figure align-center">
<img alt="_images/Fig1_14.png" src="_images/Fig1_14.png" />
<p class="caption">Fig 1.14 copy cpu0 example code from 1/Cpu0 to src/lib/Target/</p>
</div>
<p>Please remove src/tools/clang since it will waste time to build clang for our working Cpu0
changes. Now, it&#8217;s ready for building 1/Cpu0 code by command
<tt class="docutils literal"><span class="pre">cmake</span> <span class="pre">-DCMAKE_CXX_COMPILER=clang++</span> <span class="pre">-DCMAKE_C_COMPILER=clang</span> <span class="pre">-DCMAKE_BUILD_TYPE=Debug</span> <span class="pre">-G</span> <span class="pre">&quot;Xcode&quot;</span> <span class="pre">../src/</span></tt> as Fig 1.15.
Remind, currently, the <tt class="docutils literal"><span class="pre">cmake</span></tt> terminal command can work with lldb debug, but the
section “1.2 cmake graphic UI steps” cannot.</p>
<div class="figure align-center">
<img alt="_images/Fig1_15.png" src="_images/Fig1_15.png" />
<p class="caption">Fig 1.15 Build llvm debug cpu0 working project by <tt class="docutils literal"><span class="pre">cmake</span></tt> terminal command</p>
</div>
<p>Since Xcode use clang compiler and lldb instead of gcc and gdb, we can run lldb debug as
Fig 1.16. About the lldb debug command, please reference
<a class="reference external" href="http://lldb.llvm.org/lldb-gdb.html">http://lldb.llvm.org/lldb-gdb.html</a> or lldb portal <a class="reference external" href="http://lldb.llvm.org/">http://lldb.llvm.org/</a>.</p>
<div class="figure align-center">
<img alt="_images/Fig1_16.png" src="_images/Fig1_16.png" />
<p class="caption">Fig 1.16 Run lldb debug</p>
</div>
</div>
<div class="section" id="install-other-tools-on-imac">
<h2>Install other tools on iMac<a class="headerlink" href="#install-other-tools-on-imac" title="Permalink to this headline">¶</a></h2>
<p>These tools mentioned in this section is for coding and debug. You can work even without
these tools. Files compare tools Kdiff3 <a class="reference external" href="http://kdiff3.sourceforge.net">http://kdiff3.sourceforge.net</a>. FileMerge is a part
of Xcode, you can type FileMerge in Finder – Applications as Fig 1.17 and drag it into the
Dock as Fig 1.18.</p>
<div class="figure align-center">
<img alt="_images/Fig1_17.png" src="_images/Fig1_17.png" />
<p class="caption">Fig 1.17 Type FileMerge in Finder – Applications</p>
</div>
<div class="figure align-center">
<img alt="_images/Fig1_18.png" src="_images/Fig1_18.png" />
<p class="caption">Fig 1.18 Drag FileMege into the Dock</p>
</div>
<p>Download tool Graphviz for display llvm IR nodes in debugging,
<a class="reference external" href="http://www.graphviz.org/Download_macos.php">http://www.graphviz.org/Download_macos.php</a>. I choose mountainlion as Fig 1.19 since my
iMac is Mountain Lion.</p>
<div class="figure align-center">
<img alt="_images/Fig1_19.png" src="_images/Fig1_19.png" />
<p class="caption">Fig 1.19 Download graphviz for llvm IR node display</p>
</div>
<p>After install Graphviz, please set the path to .profile. For example, I install the
Graphviz in directory /Applications/Graphviz.app/Contents/MacOS/, so add this path to
/User/Jonathan/.profile as follows,</p>
<p>118-165-12-177:InputFiles Jonathan$ cat /Users/Jonathan/.profile
export PATH=$PATH:/Applications/Xcode.app/Contents/Developer/usr/bin:/Applications/Graphviz.app/Contents/MacOS/:/Users/Jonathan/l lvm/3.1/cmake_debug_build/bin/Debug</p>
<p>The Graphviz information for llvm is in <a class="reference external" href="http://llvm.org/docs/CodeGenerator.html">http://llvm.org/docs/CodeGenerator.html</a>?
highlight=graph%20view and <a class="reference external" href="http://llvm.org/docs/ProgrammersManual.html#ViewGraph">http://llvm.org/docs/ProgrammersManual.html#ViewGraph</a>.
TextWrangler is for edit file with line number display and dump binary file like the obj
file, *.o, that will be generated in chapter 2. You can download from App Store. To dump
binary file, first, open the binary file, next, select menu “File – Hex Front Document” as
Fig 1.20. Then select “Front document&#8217;s file” as Fig 1.21.</p>
<div class="figure align-center">
<img alt="_images/Fig1_20.png" src="_images/Fig1_20.png" />
<p class="caption">Fig 1.20 Select Hex Dump menu</p>
</div>
<div class="figure align-center">
<img alt="_images/Fig1_21.png" src="_images/Fig1_21.png" />
<p class="caption">Fig 1.21 Select Front document&#8217;s file in TextWrangler</p>
</div>
</div>
<div class="section" id="install-llvm-3-1-release-build-on-linux">
<h2>Install LLVM 3.1 release build on Linux<a class="headerlink" href="#install-llvm-3-1-release-build-on-linux" title="Permalink to this headline">¶</a></h2>
<p>First, install the llvm release build by,
1) Untar llvm source, rename llvm source with src.
2) Untar clang and move it src/tools/clang.
3) Untar compiler-rt and move it to src/project/compiler-rt as Fig 1.22.</p>
<div class="figure align-center">
<img alt="_images/Fig1_22.png" src="_images/Fig1_22.png" />
<p class="caption">Fig 1.22 Create llvm release build</p>
</div>
<p>Next, build with cmake command,
<tt class="docutils literal"><span class="pre">cmake</span> <span class="pre">-DCMAKE_BUILD_TYPE=Release</span> <span class="pre">-DCLANG_BUILD_EXAMPLES=ON</span> <span class="pre">-DLLVM_BUILD_EXAMPLES=ON</span> <span class="pre">-G</span> <span class="pre">&quot;Unix</span> <span class="pre">Makefiles&quot;</span> <span class="pre">../src/</span></tt>,
shown in Fig 1.23.</p>
<div class="figure align-center">
<img alt="_images/Fig1_23.png" src="_images/Fig1_23.png" />
<p class="caption">Fig 1.23 Create llvm 3.1 release build</p>
</div>
<p>After cmake, run command <tt class="docutils literal"><span class="pre">make</span></tt>, then you can get clang, llc, llvm-as, ..., in
cmake_release_build/bin/ after a few tens minutes of build. Next, edit
/home/Gamma/.bash_profile with adding /usr/local/llvm/3.1/cmake_release_build/bin to PATH
to enable the clang, llc, ..., command search path, as shown in Fig 1.24.</p>
<div class="figure align-center">
<img alt="_images/Fig1_24.png" src="_images/Fig1_24.png" />
<p class="caption">Fig 1.24 Setup llvm command path</p>
</div>
</div>
<div class="section" id="install-cpu0-debug-build-on-linux">
<h2>Install cpu0 debug build on Linux<a class="headerlink" href="#install-cpu0-debug-build-on-linux" title="Permalink to this headline">¶</a></h2>
<p>Make another copy /usr/local/llvm/3.1.test/cpu0/1/src for cpu0 debug working project
according the following list steps, the corresponding commands shown in Fig 1.25:</p>
<ol class="arabic simple">
<li>Enter /usr/local/llvm/3.1.test/cpu0/1 and <tt class="docutils literal"><span class="pre">cp</span> <span class="pre">-rf</span> <span class="pre">/usr/local/llvm/3.1/src</span> <span class="pre">.</span></tt>.</li>
</ol>
<p>2) Update my modified files to support cpu0 by command,
<tt class="docutils literal"><span class="pre">cp</span> <span class="pre">-rf</span> <span class="pre">/home/Gamma/Gamma_flash/LLVMBackendTutorial/src_files_modify/src</span> <span class="pre">.</span></tt>.</p>
<p>3) Enter src/lib/Target and copy example code LLVMBackendTutorial/1/Cpu0 to the directory
by command <tt class="docutils literal"><span class="pre">cd</span> <span class="pre">src/lib/Target/</span></tt> and
<tt class="docutils literal"><span class="pre">cp</span> <span class="pre">-rf</span> <span class="pre">/home/Gamma/Gamma_flash/LLVMBackendTutorial/1/Cpu0</span> <span class="pre">.</span></tt>.</p>
<p>4) Go into directory 3.1.test/cpu0/1/src and Check step 3 is effect by command
<tt class="docutils literal"><span class="pre">grep</span> <span class="pre">-R</span> <span class="pre">&quot;Cpu0&quot;</span> <span class="pre">.</span> <span class="pre">|</span> <span class="pre">more`</span></tt>. I add the Cpu0 backend support, so check with grep.</p>
<p>5) Remove clang from 3.1.test/cpu0/1/src/tools/clang, and mkdir
3.1.test/cpu0/1/cmake_debug_build. Without this you will waste extra time for command
<tt class="docutils literal"><span class="pre">make</span></tt> in cpu0 example code build.</p>
<div class="figure align-center">
<img alt="_images/Fig1_25.png" src="_images/Fig1_25.png" />
<p class="caption">Fig 1.25 Create llvm 3.1 debug copy</p>
</div>
<p>Now, go into directory 3.1.test/cpu0/1, create directory cmake_debug_build and do cmake
like build the 3.1 release, but we do Debug build and use clang as our compiler instead,
as follows,</p>
<div class="highlight-c++"><pre>[Gamma@localhost src]$ cd ..
[Gamma@localhost 1]$ pwd
/usr/local/llvm/3.1.test/cpu0/1
[Gamma@localhost 1]$ mkdir cmake_debug_build
[Gamma@localhost 1]$ cd cmake_debug_build/
[Gamma@localhost cmake_debug_build]$ cmake 
-DCMAKE_CXX_COMPILER=clang++ -DCMAKE_C_COMPILER=clang
-DCMAKE_BUILD_TYPE=Debug -G "Unix Makefiles" ../src/
-- The C compiler identification is Clang 3.1.0
-- The CXX compiler identification is Clang 3.1.0
-- Check for working C compiler: /usr/local/llvm/3.1/cmake_release_build/bin/clang
-- Check for working C compiler: /usr/local/llvm/3.1/cmake_release_build/bin/clang
 -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/local/llvm/3.1/cmake_release_build/bin/clang++
-- Check for working CXX compiler: /usr/local/llvm/3.1/cmake_release_build/bin/clang++
 -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info – done ...
-- Targeting Mips
-- Targeting Cpu0
-- Targeting MBlaze
-- Targeting MSP430
-- Targeting PowerPC
-- Targeting PTX
-- Targeting Sparc
-- Targeting X86
-- Targeting XCore
-- Configuring done
-- Generating done
-- Build files have been written to: /usr/local/llvm/3.1.test/cpu0/1/cmake_debug_build
[Gamma@localhost cmake_debug_build]$

</pre>
</div>
<p>Then do make as follows,</p>
<div class="highlight-c++"><pre>[Gamma@localhost cmake_debug_build]$ make
Scanning dependencies of target LLVMSupport
[ 0%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/APFloat.cpp.o
[ 0%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/APInt.cpp.o
[ 0%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/APSInt.cpp.o
[ 0%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/Allocator.cpp.o
[ 1%] Building CXX object lib/Support/CMakeFiles/LLVMSupport.dir/BlockFrequency.cpp.o ...
Linking CXX static library ../../lib/libgtest.a
[100%] Built target gtest
Scanning dependencies of target gtest_main
[100%] Building CXX object utils/unittest/CMakeFiles/gtest_main.dir/UnitTestMain/
TestMain.cpp.o Linking CXX static library ../../lib/libgtest_main.a
[100%] Built target gtest_main
[Gamma@localhost cmake_debug_build]$
</pre>
</div>
<p>Now, we are ready for the cpu0 backend development. We can run gdb debug as follows. If
your setting has anything about gdb errors, please follow the errors indication (maybe
need to download gdb again). Finally, try gdb as Fig 1.26.</p>
<div class="figure align-center">
<img alt="_images/Fig1_26.png" src="_images/Fig1_26.png" />
<p class="caption">Fig 1.26 Debug llvm cpu0 backend by gdb</p>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="about.html">About</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="llvmstructure.html">Cpu0 Instruction and LLVM Target Description</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, LLVM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>